{{extend 'layout.html'}}
{{block head}}
    <script type="text/javascript" 
      src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" 
      src="http://underscorejs.org/underscore.js"></script>
    <script type="text/javascript" 
      src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"></script>

{{end}}

<h1>This is the houses/display.html template</h1>
{{ for x in people: }}

{{=A(x.name, _href=URL('showHouses?id=' + str(x.id)))}}
{{=BR()}}
{{ pass }}
<div id="search_container"></div>
<script type="text/template" id="search_template">
<span><%=name%></span>
<input type="text" id="search_input" />
<input type="button" id="search_button" value="Search" />
</script>
<script type="text/javascript">
SearchView = Backbone.View.extend({
initialize: function(){
	this.render();
	},
render: function(){
	// Compile the template using underscore
    var template = _.template( $("#search_template").html(), {'name':'search the world: '});
	// Load the compiled HTML into the Backbone "el"
	this.$el.html( template );
	},
events: {
	"click input[type=button]": "doSearch"
	},
doSearch: function( event ){
	// Button clicked, you can access the element that was clicked with event.currentTarget
	alert( "Search for " + $("#search_input").val() );
	}
});
var search_view = new SearchView({ el: $("#search_container") });
    $(function(){alert(_.first([1,2,3]))});

</script>
